{% extends "layout.html" %}

{% block content %}
<h1>üí≥ Thanh To√°n</h1>

<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-top: 2rem;">
    <!-- Th√¥ng tin ƒë∆°n h√†ng -->
    <div>
        <h2 style="margin-bottom: 1.5rem;">üì¶ Chi Ti·∫øt ƒê∆°n H√†ng</h2>
        <table>
            <thead>
                <tr>
                    <th>S·∫£n Ph·∫©m</th>
                    <th>S·ªë L∆∞·ª£ng</th>
                    <th>Gi√°</th>
                </tr>
            </thead>
            <tbody>
                {% for item in cart_items %}
                    <tr>
                        <td>{{ item.product.name }}</td>
                        <td>{{ item.quantity }}</td>
                        <td>{{ "{:,.0f}".format(item.product.price * item.quantity) }} ‚Ç´</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
        <div style="text-align: right; margin-top: 1.5rem; padding: 1rem; background: #f9f9f9; border-radius: 5px;">
            <h3>T·ªïng Ti·ªÅn: <span style="color: #667eea;">{{ "{:,.0f}".format(total_price) }} ‚Ç´</span></h3>
        </div>
    </div>

    <!-- Form thanh to√°n -->
    <div>
        <h2 style="margin-bottom: 1.5rem;">üë§ Th√¥ng Tin Kh√°ch H√†ng</h2>
        <form method="POST" style="background: white; padding: 1.5rem; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
            <div class="form-group">
                <label>T√™n:</label>
                <input type="text" value="{{ user.username }}" disabled style="background: #f9f9f9;">
            </div>
            
            <div class="form-group">
                <label>Email:</label>
                <input type="email" value="{{ user.email }}" disabled style="background: #f9f9f9;">
            </div>
            
            <div class="form-group">
                <label for="address">ƒê·ªãa Ch·ªâ Giao H√†ng:</label>
                <textarea id="address" name="address" placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ giao h√†ng..." required></textarea>
            </div>
            
            <div class="form-group">
                <label for="phone">S·ªë ƒêi·ªán Tho·∫°i:</label>
                <input type="tel" id="phone" name="phone" placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i..." required>
            </div>
            
            <div class="form-group">
                <label for="notes">Ghi Ch√∫ (t√πy ch·ªçn):</label>
                <textarea id="notes" name="notes" placeholder="Ghi ch√∫ cho ƒë∆°n h√†ng..."></textarea>
            </div>
            
            <h3 style="margin: 2rem 0 1rem;">üí∞ Ph∆∞∆°ng Th·ª©c Thanh To√°n</h3>
            <div style="margin-bottom: 1rem;">
                <label style="display: flex; align-items: center; gap: 0.5rem;">
                    <input type="radio" name="payment_method" value="cod" checked>
                    <span>Thanh to√°n khi nh·∫≠n h√†ng (COD)</span>
                </label>
                <label style="display: flex; align-items: center; gap: 0.5rem;">
                    <input type="radio" name="payment_method" value="bank">
                    <span>Chuy·ªÉn kho·∫£n ng√¢n h√†ng</span>
                </label>
                <label style="display: flex; align-items: center; gap: 0.5rem;">
                    <input type="radio" name="payment_method" value="card">
                    <span>Th·∫ª t√≠n d·ª•ng</span>
                </label>
            </div>
            
            <button type="submit" class="btn-primary" style="width: 100%; padding: 1rem; font-size: 1.1rem;">
                X√°c Nh·∫≠n Thanh To√°n - {{ "{:,.0f}".format(total_price) }} ‚Ç´
            </button>
        </form>
    </div>
</div>

<div style="margin-top: 2rem; text-align: center;">
    <a href="/cart">‚Üê Quay L·∫°i Gi·ªè H√†ng</a>
</div>
{% endblock %}
